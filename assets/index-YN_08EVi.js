import{r as e,j as s,L as t,u as r,b as a,d as l,e as c,S as o,N as n,f as i,D as d,O as u,h as m,Q as x,H as h,R as p,k as f,l as g,m as j,n as v}from"./reactVendor-C6JVFjzf.js";import{I as b,J as y,K as N,L as w,M as k,N as S,O as C}from"./vendor-BlLSMtZ6.js";function P(){const[r,a]=e.useState([]),[l,c]=e.useState(null),[o,n]=e.useState(!1),[i,d]=e.useState("opacity-100");return e.useEffect((()=>{!async function(){n(!0);try{const e=await b.get("https://ecommerce.routemisr.com/api/v1/categories");a(e.data.data),n(!1)}catch(e){}}()}),[]),s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-emerald-500 text-3xl text-center font-bold mb-5 ",children:"All Categories"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 mb-20",children:r.map((e=>s.jsx("div",{children:s.jsx("div",{className:"product  border hover:shadow-emerald-600 hover:shadow-lg cursor-pointer",children:s.jsxs(t,{to:`${e.name}/${e._id}`,children:[s.jsx("img",{src:e.image,className:"w-full h-[200px] object-cover",alt:e.name}),s.jsx("h3",{className:"text-emerald-500 text-center bg-white p-6 font-bold text-xl",children:e.name})]})})},e._id)))}),o&&s.jsxs("div",{className:"sk-circle",children:[s.jsx("div",{className:"sk-circle1 sk-child"}),s.jsx("div",{className:"sk-circle2 sk-child"}),s.jsx("div",{className:"sk-circle3 sk-child"}),s.jsx("div",{className:"sk-circle4 sk-child"}),s.jsx("div",{className:"sk-circle5 sk-child"}),s.jsx("div",{className:"sk-circle6 sk-child"}),s.jsx("div",{className:"sk-circle7 sk-child"}),s.jsx("div",{className:"sk-circle8 sk-child"}),s.jsx("div",{className:"sk-circle9 sk-child"}),s.jsx("div",{className:"sk-circle10 sk-child"}),s.jsx("div",{className:"sk-circle11 sk-child"}),s.jsx("div",{className:"sk-circle12 sk-child"})]})]})}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();let E=e.createContext();function L(t){const[r,a]=e.useState(null);return e.useEffect((()=>{localStorage.getItem("userToken")&&a(localStorage.getItem("userToken"))}),[]),s.jsx(E.Provider,{value:{userLogin:r,setuserLogin:a},children:t.children})}function I(){let{userLogin:a,setuserLogin:l,userEmail:c,setuserEmail:o}=e.useContext(E);const[n,i]=e.useState(""),[d,u]=e.useState(!1);let m=r();let x=y().shape({email:N().email("Invalid email address").required("Email is required"),password:N().min(6,"Password must be at least 6 characters long").required("Password is required")}),h=w({initialValues:{email:"",password:""},validationSchema:x,onSubmit:async function(e){u(!0),u(!0),b.post("https://ecommerce.routemisr.com/api/v1/auth/signin",e).then((e=>{"success"==e.data.message&&(localStorage.setItem("userToken",e.data.token),l(e.data.token),m("/"))})).catch((e=>{i(e.response.data.message),u(!1)}))}});return s.jsxs(s.Fragment,{children:[n&&s.jsx("div",{className:" w-1/3 mx-auto bg-red-600 text-white font-bold rounded-lg p-3 text-center",children:n}),s.jsx("h1",{className:"text-emerald-600 p-5 font-bold text-3xl text-center",children:"Login Now "}),s.jsxs("form",{onSubmit:h.handleSubmit,className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"email",name:"email",value:h.values.email,onChange:h.handleChange,onBlur:h.handleBlur,id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Email"}),h.errors.email&&h.touched.email?s.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg",role:"alert",children:s.jsx("span",{className:"font-medium",children:h.errors.email})}):null]}),s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"password",name:"password",value:h.values.password,onChange:h.handleChange,onBlur:h.handleBlur,id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Password"}),h.errors.password&&h.touched.password?s.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg",role:"alert",children:s.jsx("span",{className:"font-medium",children:h.errors.password})}):null]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("button",{type:"submit",className:"text-white bg-emerald-600 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center",children:d?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Login"}),s.jsx(t,{to:"/register",children:s.jsx("span",{className:"text-blue-500 underline",children:"Don't you have an account? Register Now"})})]}),s.jsx("div",{className:"text-center",children:s.jsx(t,{to:"/forgetpassword",children:s.jsx("span",{className:"text-blue-500 underline",children:"Forget Password"})})})]})]})}function F(){let{userLogin:a,setuserLogin:l}=e.useContext(E);const[c,o]=e.useState(""),[n,i]=e.useState(!1);let d=r();let u=y().shape({name:N().min(3,"min length is 3").max(14,"max length 14").required("Name is required"),email:N().email("Invalid email address").required("Email is required"),password:N().min(6,"Password must be at least 6 characters long").required("Password is required"),rePassword:N().oneOf([k("password"),null],"Passwords must match").required("Confirm Password is required"),phone:N().matches(/^01[1025][0-9]{8}$/,"Invalid phone number").required("Phone number is required")}),m=w({initialValues:{name:"",email:"",password:"",rePassword:"",phone:""},validationSchema:u,onSubmit:function(e){i(!0),b.post("https://ecommerce.routemisr.com/api/v1/auth/signup",e).then((e=>{"success"==e.data.message&&(localStorage.setItem("userToken",e.data.token),l(e.data.token),d("/"))})).catch((e=>{o(e.response.data.message),i(!1)}))}});return s.jsxs(s.Fragment,{children:[c&&s.jsx("div",{className:"text-center w-1/3 mx-auto bg-red-600 text-white font-bold rounded-lg p-3 ",children:c}),s.jsx("h1",{className:"text-emerald-600 p-5 font-bold text-3xl text-center",children:"Register Now "}),s.jsxs("form",{onSubmit:m.handleSubmit,className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"text",name:"name",value:m.values.name,onChange:m.handleChange,onBlur:m.handleBlur,id:"name",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"name",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Name"}),m.errors.name&&m.touched.name?s.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg",role:"alert",children:s.jsx("span",{className:"font-medium",children:m.errors.name})}):null]}),s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"email",name:"email",value:m.values.email,onChange:m.handleChange,onBlur:m.handleBlur,id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Email"}),m.errors.email&&m.touched.email?s.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg",role:"alert",children:s.jsx("span",{className:"font-medium",children:m.errors.email})}):null]}),s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"password",name:"password",value:m.values.password,onChange:m.handleChange,onBlur:m.handleBlur,id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Password"}),m.errors.password&&m.touched.password?s.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg",role:"alert",children:s.jsx("span",{className:"font-medium",children:m.errors.password})}):null]}),s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"password",name:"rePassword",value:m.values.rePassword,onChange:m.handleChange,onBlur:m.handleBlur,id:"rePassword",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"rePassword",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your rePassword"}),m.errors.rePassword&&m.touched.rePassword?s.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg",role:"alert",children:s.jsx("span",{className:"font-medium",children:m.errors.rePassword})}):null]}),s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"tel",name:"phone",value:m.values.phone,onChange:m.handleChange,onBlur:m.handleBlur,id:"phone",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"phone",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Phone"}),m.errors.phone&&m.touched.phone?s.jsx("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg",role:"alert",children:s.jsx("span",{className:"font-medium",children:m.errors.phone})}):null]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("button",{type:"submit",className:"text-white bg-emerald-600 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center",children:n?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Register"}),s.jsx(t,{to:"/login",children:s.jsx("span",{className:"text-blue-500 underline",children:"Do you have an account? Login Now"})})]})]})]})}let z=e.createContext();function B(t){let[r,l]=e.useState(null),[c,o]=e.useState(null);const{id:n}=a();let i={token:localStorage.getItem("userToken")};function d(){return b.get("https://ecommerce.routemisr.com/api/v1/cart\n     ",{headers:i}).then((e=>{var s,t;return l(null==(t=null==(s=null==e?void 0:e.data)?void 0:s.data)?void 0:t._id),o(null==e?void 0:e.data.numOfCartItems),e})).catch((e=>e))}return e.useEffect((()=>{d()}),[]),s.jsx(z.Provider,{value:{addProductToCart:function(e){return b.post("https://ecommerce.routemisr.com/api/v1/cart\n     ",{productId:e},{headers:i}).then((e=>e)).catch((e=>e))},GetLoggedusercart:d,updatProductCart:function(e,s){return b.put(`https://ecommerce.routemisr.com/api/v1/cart/${e}\n     `,{count:s},{headers:i}).then((e=>e)).catch((e=>e))},deleteCartItem:function(e){return b.delete(`https://ecommerce.routemisr.com/api/v1/cart/${e}\n     `,{headers:i}).then((e=>e)).catch((e=>e))},deleteAllItem:function(){return b.delete("https://ecommerce.routemisr.com/api/v1/cart\n     ",{headers:i}).then((e=>e)).catch((e=>e))},setcarId:l,Checkout:function(e,s,t){return b.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${e}?url=${s}\n     `,{shippingAddress:t},{headers:i}).then((e=>e)).catch((e=>e))},cartId:r,number:c,setnumber:o},children:t.children})}let A=e.createContext();function T(t){let[r,l]=e.useState(null),[c,o]=e.useState(null),[n,i]=e.useState(null),[d,u]=e.useState([]);const{id:m}=a();let x={token:localStorage.getItem("userToken")};function h(){return b.get("https://ecommerce.routemisr.com/api/v1/wishList\n       ",{headers:x}).then((e=>{var s,t;return l(null==(t=null==(s=null==e?void 0:e.data)?void 0:s.data)?void 0:t._id),i(null==e?void 0:e.data.numOfwishListItems),e})).catch((e=>e))}return e.useEffect((()=>{h()}),[]),s.jsx(A.Provider,{value:{addProductTowishList:function(e){return b.post("https://ecommerce.routemisr.com/api/v1/wishlist\n       ",{productId:e},{headers:x}).then((e=>e)).catch((e=>e))},GetLoggeduserwishList:h,deletewishListItem:function(e){return b.delete(`https://ecommerce.routemisr.com/api/v1/wishList/${e}\n       `,{headers:x}).then((e=>e)).catch((e=>e))},setWishList:u,wishList:d},children:t.children})}function q(){return l({queryKey:["recentProduct"],queryFn:function(){return b.get("https://ecommerce.routemisr.com/api/v1/products")},staleTime:3e4,retry:4,retryDelay:3e3,refetchOnWindowFocus:!0,select:e=>e.data.data})}function O(){let{addProductToCart:a,setnumber:l,number:o}=e.useContext(z),{addProductTowishList:n,deletewishListItem:i,wishList:d,setWishList:u}=e.useContext(A),{userLogin:m}=e.useContext(E)||{},[x,h]=e.useState(!1),[p,f]=e.useState(null),g=r();async function j(e){m?(null==d?void 0:d.includes(e))?async function(e){u((s=>{const t=s.filter((s=>s!==e));return localStorage.setItem("wishList",JSON.stringify(t)),t})),c.success("Product removed from wishlist");try{"success"!==(await i(e)).data.status&&c.error("Error removing product from wishlist")}catch(s){c.error("Failed to remove product from wishlist")}}(e):async function(e){f(e);try{let s=await n(e);"success"===s.data.status?(c.success(s.data.message),u((s=>{const t=[...s,e];return localStorage.setItem("wishList",JSON.stringify(t)),t}))):c.error(s.data.message)}catch(s){c.error("Failed to add product to wishlist")}}(e):g("/login")}e.useEffect((()=>{const e=JSON.parse(localStorage.getItem("wishList"))||[];u(e)}),[]);let{data:v,error:b,isError:y,isLoading:N}=q();return y?s.jsxs("h2",{className:"text-red-500 text-center",children:["Error: ",b.message]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 ",children:null==v?void 0:v.map((e=>s.jsxs("div",{className:"my-2 product p-2 hover:shadow-lg hover:shadow-emerald-500 relative",children:[s.jsxs(t,{to:`/productdetails/${e.id}/${e.category.name}`,children:[s.jsx("img",{src:e.imageCover,className:"w-full h-[200px]",alt:e.title}),s.jsx("h3",{className:"text-emerald-500",children:e.category.name}),s.jsx("h3",{className:"font-bold mb-1",children:e.title.split(" ").slice(0,2).join(" ")}),s.jsxs("div",{className:"flex justify-between p-3",children:[s.jsxs("span",{children:[e.price," EGP"]}),s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-star text-yellow-400"})," ",e.ratingsAverage," "]})]})]}),s.jsx("i",{className:"fa-solid fa-heart absolute top-0 right-0 border border-gray-200 rounded-full p-2 bg-white text-3xl \n            "+((null==d?void 0:d.includes(e.id))&&m?"text-red-500":"text-gray-400"),onClick:()=>j(e.id)}),s.jsx("button",{onClick:()=>async function(e){h(!0),f(e);try{let s=await a(e);if(!m)return void g("/login");"success"===s.data.status?(c.success(s.data.message),l((e=>e+1))):c.error(s.data.message)}catch(s){c.error("Failed to add product to cart")}finally{h(!1)}}(e.id),className:"btn bg-emerald-500 text-white w-full p-2 rounded-lg",disabled:x&&p===e.id,children:x&&p===e.id?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Add to cart"})]},e.id)))})}function $(){let{GetLoggedusercart:t,updatProductCart:a,deleteCartItem:l,deleteAllItem:o,setnumber:n,number:i,setcarId:d}=e.useContext(z);const[u,m]=e.useState(null);async function x(e,s){var t;let r=await a(e,s);"success"==r.data.status?(m(null==(t=null==r?void 0:r.data)?void 0:t.data),c.success("Product Updated Successfully")):c.error("Error")}const h=r();return e.useEffect((()=>{!async function(){var e;let s=await t();"success"==s.data.status&&m(null==(e=null==s?void 0:s.data)?void 0:e.data)}()}),[]),s.jsx(s.Fragment,{children:s.jsx("div",{className:"container mx-auto px-6 mb-10",children:(null==u?void 0:u.products.length)>0?s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"font-bold text-3xl my-2",children:"My Cart"}),s.jsxs("h2",{className:"mb-5",children:[s.jsx("span",{className:" font-medium text-xl ",children:"Total Price:"})," ",s.jsxs("span",{className:"text-lg text-emerald-500",children:[null==u?void 0:u.totalCartPrice," EGP"]})]}),s.jsx("div",{className:"grid grid-cols-1  gap-6 ",children:null==u?void 0:u.products.map((e=>{var t;return s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md md:flex items-center gap-4",children:[s.jsx("img",{src:e.product.imageCover,className:"w-50 md:w-20 object-cover rounded",alt:e.product.title}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e.product.title}),s.jsxs("p",{className:"text-gray-600",children:["Price: ",e.price*e.count," EGP"]}),s.jsx("button",{onClick:()=>async function(e){var s;let t=await l(e);"success"==t.data.status?(n(i-1),m(null==(s=null==t?void 0:t.data)?void 0:s.data),c.success("Product Removed Successfully")):c.error("Error")}(e.product.id),className:"text-emerald-500 hover:text-red-700",children:"Remove"})]}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("button",{onClick:()=>{var s;return x(null==(s=null==e?void 0:e.product)?void 0:s.id,(null==e?void 0:e.count)-1)},className:"px-3 py-1 bg-transparent border border-emerald-500 text-gray-800 rounded-l",children:"-"}),s.jsx("span",{className:"px-4 py-1 bg-transparent",children:e.count}),s.jsx("button",{onClick:()=>{var s;return x(null==(s=null==e?void 0:e.product)?void 0:s.id,(null==e?void 0:e.count)+1)},className:"px-3 py-1 bg-transparent border border-emerald-500 text-gray-800 rounded-r",children:"+"})]})]},null==(t=null==e?void 0:e.product)?void 0:t.id)}))}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx("button",{onClick:function(){h("/checkout")},className:"bg-green-500 text-white py-2 px-6 rounded-xl w-[49%]",children:"Checkout"}),s.jsx("button",{onClick:async function(){var e;let s=await o();"success"==s.data.message?(n(0),m(null==(e=null==s?void 0:s.data)?void 0:e.data),c.success("All Product Removed Successfully")):c.error("Error")},className:"bg-red-500 text-white py-2 px-6 rounded-xl w-[49%]",children:"Clear All Items"})]})]}):s.jsx("h2",{className:"text-center text-red-800 text-3xl font-bold my-8",children:"There Is No Item To Show"})})})}function Y(){const[t,a]=e.useState([]),[l,c]=e.useState(null),[o,n]=e.useState(!1),[i,d]=e.useState("opacity-100");e.useEffect((()=>{!async function(){n(!0);try{const e=await b.get("https://ecommerce.routemisr.com/api/v1/brands");a(e.data.data),n(!1)}catch(e){}}()}),[]);let u=r();return s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-emerald-500 text-3xl text-center font-bold mb-5",children:"All Brands"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 mb-10",children:t.map((e=>s.jsx("div",{children:s.jsxs("div",{onClick:()=>async function(e,s){n(!0);try{await b.get(`https://ecommerce.routemisr.com/api/v1/brands/${e}`),u(`/brands/${s}/${e}`)}catch(t){}finally{n(!1)}}(e._id,e.name),className:"my-2 product p-2 border hover:shadow-emerald-600 hover:shadow-lg cursor-pointer",children:[s.jsx("img",{src:e.image,className:"w-full  object-cover",alt:e.name}),s.jsx("h3",{className:"text-emerald-500 text-center bg-white p-6 font-bold text-3xl",children:e.name})]})},e._id)))}),o&&s.jsxs("div",{className:"sk-circle",children:[s.jsx("div",{className:"sk-circle1 sk-child"}),s.jsx("div",{className:"sk-circle2 sk-child"}),s.jsx("div",{className:"sk-circle3 sk-child"}),s.jsx("div",{className:"sk-circle4 sk-child"}),s.jsx("div",{className:"sk-circle5 sk-child"}),s.jsx("div",{className:"sk-circle6 sk-child"}),s.jsx("div",{className:"sk-circle7 sk-child"}),s.jsx("div",{className:"sk-circle8 sk-child"}),s.jsx("div",{className:"sk-circle9 sk-child"}),s.jsx("div",{className:"sk-circle10 sk-child"}),s.jsx("div",{className:"sk-circle11 sk-child"}),s.jsx("div",{className:"sk-circle12 sk-child"})]})]})}function J(){let{addProductToCart:a,setnumber:l,number:o}=e.useContext(z),{addProductTowishList:n,deletewishListItem:i,wishList:d,setWishList:u}=e.useContext(A),{userLogin:m}=e.useContext(E)||{},[x,h]=e.useState(!1),[p,f]=e.useState(null),g=r();async function j(e){m?(null==d?void 0:d.includes(e))?async function(e){u((s=>{const t=s.filter((s=>s!==e));return localStorage.setItem("wishList",JSON.stringify(t)),t})),c.success("Product removed from wishlist");try{"success"!==(await i(e)).data.status&&c.error("Error removing product from wishlist")}catch(s){c.error("Failed to remove product from wishlist")}}(e):async function(e){f(e);try{let s=await n(e);"success"===s.data.status?(c.success(s.data.message),u((s=>{const t=[...s,e];return localStorage.setItem("wishList",JSON.stringify(t)),t}))):c.error(s.data.message)}catch(s){c.error("Failed to add product to wishlist")}}(e):g("/login")}e.useEffect((()=>{const e=JSON.parse(localStorage.getItem("wishList"))||[];u(e)}),[]);let{data:v,error:b,isError:y,isLoading:N}=q();return y?s.jsxs("h2",{className:"text-red-500 text-center",children:["Error: ",b.message]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 my-10",children:null==v?void 0:v.map((e=>s.jsxs("div",{className:"my-2 product p-2 hover:shadow-lg hover:shadow-emerald-500 relative",children:[s.jsxs(t,{to:`productdetails/${e.id}/${e.category.name}`,children:[s.jsx("img",{src:e.imageCover,className:"w-full h-[200px]",alt:e.title}),s.jsx("h3",{className:"text-emerald-500",children:e.category.name}),s.jsx("h3",{className:"font-bold mb-1",children:e.title.split(" ").slice(0,2).join(" ")}),s.jsxs("div",{className:"flex justify-between p-3",children:[s.jsxs("span",{children:[e.price," EGP"]}),s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-star text-yellow-400"})," ",e.ratingsAverage," "]})]})]}),s.jsx("i",{className:"fa-solid fa-heart absolute top-0 right-0 border border-gray-200 rounded-full p-2 bg-white text-3xl \n            "+((null==d?void 0:d.includes(e.id))&&m?"text-red-500":"text-gray-400"),onClick:()=>j(e.id)}),s.jsx("button",{onClick:()=>async function(e){h(!0),f(e);try{let s=await a(e);if(!m)return void g("/login");"success"===s.data.status?(c.success(s.data.message),l((e=>e+1))):c.error(s.data.message)}catch(s){c.error("Failed to add product to cart")}finally{h(!1)}}(e.id),className:"btn bg-emerald-500 text-white w-full p-2 rounded-lg",disabled:x&&p===e.id,children:x&&p===e.id?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Add to cart"})]},e.id)))})}function D(){const[t,r]=e.useState([]);e.useEffect((()=>{b.get("https://ecommerce.routemisr.com/api/v1/categories").then((e=>{r(e.data.data)})).catch((e=>{}))}),[]);return s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:" my-2 text-3xl ",children:"Shop Popular Categories "}),s.jsx(o,{dots:!1,infinite:!0,speed:500,slidesToShow:7,slidesToScroll:2,autoplay:!0,autoplaySpeed:1e3,children:t.map((e=>s.jsxs("div",{children:[s.jsx("img",{src:e.image,className:"w-full h-[200px] object-cover",alt:""}),s.jsx("h4",{children:e.name})]},e._id)))})]})}const G="/Fresh-Cart/assets/slider-image-3-BtMvVf4V.jpeg";function M(){return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-wrap items-center my-8",children:[s.jsx("div",{className:"w-3/4",children:s.jsxs(o,{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1e3,arrows:!1,children:[s.jsx("img",{src:G,className:"w-full h-[400px] object-cover",alt:""}),s.jsx("img",{src:"/Fresh-Cart/assets/grocery-banner-fECAEdf_.png",className:"w-full h-[400px] object-cover",alt:""}),s.jsx("img",{src:"/Fresh-Cart/assets/grocery-banner-2-BWrZqEBM.jpeg",className:"w-full h-[400px] object-cover",alt:""})]})}),s.jsxs("div",{className:"w-1/4",children:[s.jsx("img",{src:G,className:"w-full h-[200px]",alt:""}),s.jsx("img",{src:"/Fresh-Cart/assets/slider-image-2-Xt88XJy9.jpeg",className:"w-full h-[200px]",alt:""})]})]})})}function R(){return s.jsxs(s.Fragment,{children:[s.jsx(M,{}),s.jsx(D,{}),s.jsx(J,{})]})}function _(){return s.jsx(s.Fragment,{children:s.jsx("footer",{className:"bg-gray-50 border-top border-bottom p-4 fixed bottom-[0] left-0 right-0",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"flex justify-evenly items-center py-2 flex-wrap",children:[s.jsxs("h2",{className:"text-xl",children:["Made By ",s.jsx("span",{className:"text-emerald-500",children:"Ahmed Ismail"})]}),s.jsxs("div",{children:[s.jsx(t,{to:"https://github.com/ahmedismai",target:"_blank",children:s.jsx("i",{className:"fa-brands fa-github mx-2 text-xl hover:text-emerald-500"})}),s.jsx(t,{to:"https://www.facebook.com/profile.php?id=100015580123329",target:"_blank",children:s.jsx("i",{className:"fa-brands fa-facebook mx-2 text-xl hover:text-emerald-500"})}),s.jsx(t,{to:"https://www.instagram.com/ahmed_ismail198/",target:"_blank",children:s.jsx("i",{className:"fa-brands fa-square-instagram mx-2 text-xl hover:text-emerald-500"})}),s.jsx(t,{to:"https://mail.google.com/mail/u/0/?to=ahmedismailamer@gmail.com&fs=1&tf=cm",target:"_blank",children:s.jsx("i",{className:"fa-solid fa-envelope mx-2 text-xl hover:text-emerald-500"})})]})]})})})})}function W(){let t=r();const[a,l]=e.useState();let{userLogin:c,setuserLogin:o}=e.useContext(E),{number:u,setnumber:m}=e.useContext(z);let x={token:localStorage.getItem("userToken")};return e.useEffect((()=>{!async function(){c&&b.get("https://ecommerce.routemisr.com/api/v1/auth/verifyToken\n      ",{headers:x}).then((e=>{l(e.data.decoded.name.split("").slice(0,1).join(""))})).catch((e=>{}))}()}),[a]),s.jsx(s.Fragment,{children:s.jsxs(n,{fluid:!0,rounded:!0,className:"p-4 shadow-xl",children:[s.jsx(n.Brand,{className:"xl:px-28",href:"/",children:s.jsx("img",{src:"/Fresh-Cart/assets/freshcart-logo-FUkDB2OX.svg",width:"120px",className:"h-8 ",alt:"Logo"})}),s.jsxs("div",{className:"flex md:order-2 justify-center items-center xl:px-28",children:[s.jsxs(i,{to:"/wishlist",className:({isActive:e})=>e?"px-2 text-emerald-500 font-bold":"px-2 text-gray-700",children:["Wishlist ",s.jsx("i",{className:"mx-2 fa-solid fa-heart"})]}),s.jsx(i,{to:"/cart",className:({isActive:e})=>e?"px-2 text-emerald-500 font-bold":"px-2 text-gray-700",children:s.jsxs("div",{className:"inline-flex items-center border-r border-l px-2 py-2",children:["Cart ",s.jsx("i",{className:"mx-2 fa-solid fa-cart-shopping text-xl"}),0!==u&&c?s.jsx("span",{className:"bg-emerald-500 size-5 rounded-full flex justify-center items-center relative top-[-16px] left-[-15px] text-white",children:u}):null]})}),c?s.jsxs(s.Fragment,{children:[s.jsxs(d,{arrowIcon:!1,inline:!0,label:s.jsx("div",{className:"border size-8 border-emerald-500 rounded-full inline-flex items-center font-medium justify-center text-sm text-gray-900 cursor-pointer",children:a}),children:[s.jsxs(d.Header,{children:[s.jsx(i,{to:"/profile",className:({isActive:e})=>e?"block text-emerald-500 font-bold my-2":"block text-gray-700 my-2",children:"Profile"}),s.jsx(i,{to:"/allorders",className:({isActive:e})=>e?"block text-emerald-500 font-bold":"block text-gray-700",children:"All Orders"})]}),s.jsx(d.Item,{children:s.jsx("span",{onClick:function(){localStorage.removeItem("userToken"),o(null),t("/login")},children:"Sign out"})})]}),s.jsx(n.Toggle,{})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex items-center md:order-2 space-x-1 md:space-x-0",children:s.jsx(i,{to:"/login",className:"py-2 px-3 text-black rounded-sm",children:"Login"})})})]}),s.jsxs(n.Collapse,{children:[s.jsx(i,{to:"/",className:({isActive:e})=>e?"text-emerald-500 font-bold":"text-gray-700",children:"Home"}),s.jsx(i,{to:"/products",className:({isActive:e})=>e?"text-emerald-500 font-bold":"text-gray-700",children:"Products"}),s.jsx(i,{to:"/categories",className:({isActive:e})=>e?"text-emerald-500 font-bold":"text-gray-700",children:"Categories"}),s.jsx(i,{to:"/brands",className:({isActive:e})=>e?"text-emerald-500 font-bold":"text-gray-700",children:"Brands"})]})]})})}function U(){return s.jsxs(s.Fragment,{children:[s.jsx(W,{}),s.jsx("div",{className:"container my-6 mb-10 py-20 lg:py-12 w-[85%] mx-auto",children:s.jsx(u,{})}),s.jsx(_,{})]})}function V(){return s.jsx(s.Fragment,{children:s.jsx("div",{className:"container h-[100vh]",children:s.jsxs("div",{style:{textAlign:"center",padding:"50px"},children:[s.jsx("h1",{children:"❌404 - Page Not Found ❌"}),s.jsx("p",{children:"Whoops! That page doesn’t exist. But do not fret, check out our other resources to get started."}),s.jsx(t,{to:"/",className:"text-emerald-500",style:{textDecoration:"none"},children:"Back to home Page"})]})})})}function H(e){return localStorage.getItem("userToken")?e.children:s.jsx(m,{to:"/login"})}function K(){let{userLogin:l,setuserLogin:n}=e.useContext(E);const[i,d]=e.useState(null),[u,m]=e.useState([]),{id:x,category:h}=a();let{addProductToCart:p,setnumber:f,number:g}=e.useContext(z),{addProductTowishList:j,deletewishListItem:v,wishList:y,setWishList:N}=e.useContext(A),[w,k]=e.useState(!1),[S,C]=e.useState(null);async function P(e){k(!0),C(e);try{if(l){let s=await p(e);"success"===s.data.status?(c.success(s.data.message),f(g+1)):c.error(s.data.message)}else F("/login")}catch(s){c.error("Error adding product to cart")}k(!1)}async function L(e){if(C(e),!y.includes(e))try{let s=await j(e);"success"===s.data.status?(c.success(s.data.message),N((s=>{const t=[...s,e];return localStorage.setItem("wishList",JSON.stringify(t)),t}))):c.error(s.data.message)}catch(s){c.error("Error adding product to wishlist")}}async function I(e){C(e);try{"success"===(await v(e)).data.status?(N((s=>{const t=s.filter((s=>s!==e));return localStorage.setItem("wishList",JSON.stringify(t)),t})),c.success("Product removed from wishlist")):c.error("Error removing product from wishlist")}catch(s){c.error("Error processing request")}}e.useEffect((()=>{const e=JSON.parse(localStorage.getItem("wishList"))||[];N(e)}),[]),e.useEffect((()=>{!async function(e){try{let s=await b.get(`https://ecommerce.routemisr.com/api/v1/products/${e}`);d(s.data.data)}catch(s){}}(x),async function(){try{let e=(await b.get("https://ecommerce.routemisr.com/api/v1/products")).data.data.filter((e=>e.category.name===h));m(e)}catch(e){}}()}),[x,h]);let F=r();function B(){F("/login")}return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-wrap items-center mb-5",children:[s.jsx("div",{className:"w-1/4",children:s.jsx(o,{dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:1e3,arrows:!1,children:null==i?void 0:i.images.map((e=>s.jsx("img",{src:e,alt:"",className:"w-full"},e)))})}),s.jsxs("div",{className:"w-3/4 p-4",children:[s.jsx("h3",{className:"font-semibold capitalize text-2xl",children:null==i?void 0:i.title}),s.jsx("h4",{className:"text-gray-500 my-4",children:null==i?void 0:i.description}),s.jsx("h4",{className:"text-gray-500 font-bold my-4",children:null==i?void 0:i.category.name}),s.jsxs("div",{className:"flex justify-between p-3",children:[s.jsxs("span",{children:[null==i?void 0:i.price," EGP"]}),s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-star text-yellow-400"})," ",null==i?void 0:i.ratingsAverage," "]})]}),s.jsx("i",{className:"fa-solid fa-heart relative top-[100%] my-2 right-[-95%] border border-gray-200 rounded-full p-2 bg-white text-3xl "+(y.includes(null==i?void 0:i.id)?"text-red-500":"text-gray-400"),onClick:()=>{l?(null==y?void 0:y.includes(null==i?void 0:i.id))?I(null==i?void 0:i.id):L(null==i?void 0:i.id):B()}}),s.jsx("button",{onClick:()=>P(null==i?void 0:i.id),className:"bg-emerald-500 text-white w-full p-2 rounded-lg",children:w&&S===(null==i?void 0:i.id)?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Add to cart"})]})]}),s.jsx("div",{className:"grid grid-cols-6",children:u.length>0?null==u?void 0:u.map((e=>{var r,a;return s.jsxs("div",{className:"my-2 product p-2 relative",children:[s.jsxs(t,{to:`/productdetails/${null==e?void 0:e.id}/${null==(r=null==e?void 0:e.category)?void 0:r.name}`,children:[s.jsx("img",{src:e.imageCover,className:"w-full",alt:""}),s.jsx("h3",{className:"text-emerald-500",children:null==(a=null==e?void 0:e.category)?void 0:a.name}),s.jsx("h3",{className:"font-bold mb-1",children:null==e?void 0:e.title.split(" ").slice(0,2).join(" ")}),s.jsxs("div",{className:"flex justify-between p-3",children:[s.jsxs("span",{children:[null==e?void 0:e.price," EGP"]}),s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-star text-yellow-400"})," ",null==e?void 0:e.ratingsAverage," "]})]})]}),s.jsx("i",{className:"fa-solid fa-heart absolute top-0 right-0 border border-gray-200 rounded-full p-2 bg-white text-3xl "+(y.includes(null==e?void 0:e.id)&&l?"text-red-500":"text-gray-400"),onClick:()=>{l?(null==y?void 0:y.includes(null==e?void 0:e.id))?I(null==e?void 0:e.id):L(null==e?void 0:e.id):B()}}),s.jsx("button",{onClick:()=>P(null==e?void 0:e.id),className:"btn bg-emerald-500 text-white w-full p-2 rounded-lg",children:w&&S===(null==e?void 0:e.id)?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Add to cart"})]},null==e?void 0:e.id)})):s.jsx("div",{className:"text-center text-emerald-500 font-bold text-2xl",children:"Loading..."})})]})}function X(){let{Checkout:t,cartId:r}=e.useContext(z),a=w({initialValues:{details:"",phone:"",city:""},onSubmit:()=>async function(e,s){let{data:r}=await t(e,s,a.values);window.location.href=r.session.url}(r,"http://localhost:5173")});return s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-emerald-600 p-5 font-bold text-3xl text-center mb-10",children:"Checkout Now "}),s.jsxs("form",{onSubmit:a.handleSubmit,className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"text",name:"details",value:a.values.details,onChange:a.handleChange,onBlur:a.handleBlur,id:"details",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"details",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Email"})]}),s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"tel",name:"phone",value:a.values.phone,onChange:a.handleChange,onBlur:a.handleBlur,id:"phone",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"phone",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Phone"})]}),s.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[s.jsx("input",{type:"text",name:"city",value:a.values.city,onChange:a.handleChange,onBlur:a.handleBlur,id:"city",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"city",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your City"})]}),s.jsx("div",{className:"flex gap-4 items-center",children:s.jsx("button",{type:"submit",className:"text-white bg-emerald-600 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center",children:"Checkout"})})]})]})}function Q(){const[t,a]=e.useState(null),[l,c]=e.useState([]),[o,n]=e.useState(!0),[i,d]=e.useState(null);e.useEffect((()=>{!async function(){try{const e={token:localStorage.getItem("userToken")},s=await b.get("https://ecommerce.routemisr.com/api/v1/auth/verifyToken",{headers:e});a(s.data.decoded.id)}catch(e){d("Unable to verify user.")}}()}),[]),e.useEffect((()=>{t&&async function(){n(!0);try{const e=await b.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${t}`);c(e.data)}catch(e){d("⚠️ An error occurred while loading orders.")}finally{n(!1)}}()}),[t]);let u=r();return s.jsxs("div",{className:"container mx-auto my-10 ",children:[s.jsxs("h1",{className:"text-3xl font-semibold text-center mb-6",children:[s.jsx("i",{className:"fa-solid fa-cart-shopping"})," My Orders"]}),o?s.jsxs("div",{className:"sk-circle",children:[s.jsx("div",{className:"sk-circle1 sk-child"}),s.jsx("div",{className:"sk-circle2 sk-child"}),s.jsx("div",{className:"sk-circle3 sk-child"}),s.jsx("div",{className:"sk-circle4 sk-child"}),s.jsx("div",{className:"sk-circle5 sk-child"}),s.jsx("div",{className:"sk-circle6 sk-child"}),s.jsx("div",{className:"sk-circle7 sk-child"}),s.jsx("div",{className:"sk-circle8 sk-child"}),s.jsx("div",{className:"sk-circle9 sk-child"}),s.jsx("div",{className:"sk-circle10 sk-child"}),s.jsx("div",{className:"sk-circle11 sk-child"}),s.jsx("div",{className:"sk-circle12 sk-child"})]}):i?s.jsx("p",{className:"text-red-500 text-center mt-4",children:i}):0===l.length?s.jsx("p",{className:"text-center mt-4",children:"🚀 No orders available"}):s.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg mb-5 ",children:s.jsxs("table",{className:"w-full table-auto border-collapse text-center",children:[s.jsx("thead",{className:"bg-gray-100 text-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 border",children:"Order ID"}),s.jsx("th",{className:"px-4 py-2 border",children:"Order Price"}),s.jsx("th",{className:"px-4 py-2 border",children:"Status"}),s.jsx("th",{className:"px-4 py-2 border",children:"Action"})]})}),s.jsx("tbody",{children:l.map((e=>s.jsxs("tr",{className:"border-b hover:bg-gray-50 ",children:[s.jsx("td",{className:"px-4 py-2",children:`#${e.id}`}),s.jsxs("td",{className:"px-4 py-2 text-gray-500",children:[e.totalOrderPrice," EGP"]}),s.jsx("td",{className:"px-4 py-2 ",children:s.jsxs("div",{className:"flex flex-col w-fit justify-center items-center text-center mx-auto ",children:[e.isPaid&&s.jsx("span",{className:"text-white bg-emerald-600 px-2 rounded-md my-2",children:"isPaid"}),!e.isDelivered&&s.jsx("span",{className:"text-white bg-red-600 px-2 rounded-md ",children:"isDelivered"})]})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{onClick:()=>{u(`/allorders/${t}`)},className:"bg-emerald-500 rounded-md px-3 py-2 text-white",children:"View"})})]},e.id)))})]})})]})}function Z(){let{GetLoggeduserwishList:t,deletewishListItem:r,deleteAllItem:a,setWishList:l,wishList:o}=e.useContext(A);const[n,i]=e.useState(null);return e.useEffect((()=>{!async function(){var e;let s=await t();"success"==s.data.status&&i(null==(e=null==s?void 0:s.data)?void 0:e.data)}();const e=JSON.parse(localStorage.getItem("wishList"));e&&l(e)}),[]),s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-center text-emerald-500 text-3xl font-bold mb-8",children:"My Wish List"}),(null==n?void 0:n.length)>0&&s.jsx(s.Fragment,{children:s.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:s.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-16 py-3",children:s.jsx("span",{children:"Image"})}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Product"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),s.jsx("tbody",{children:null==n?void 0:n.map((e=>s.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 border-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600",children:[s.jsx("td",{className:"p-4",children:s.jsx("img",{src:e.imageCover,className:"w-16 md:w-32 max-w-full max-h-full",alt:"Product"})}),s.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:e.title}),s.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:e.price}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{onClick:()=>{o.includes(e.id)&&async function(e){const s=o.filter((s=>s!==e));l(s),localStorage.setItem("wishList",JSON.stringify(s));const t=n.filter((s=>s.id!==e));i(t),c.success("Product removed from wishlist"),"success"!=(await r(e)).data.status&&c.error("Error removing product from wishlist")}(e.id)},className:"cursor-pointer font-medium text-red-600 dark:text-red-500 "+(o.includes(e.id)?"text-red-500":"text-gray-400"),children:"Remove"})})]},e.id)))})]})})})]})}function ee(){const[t,a]=e.useState(""),[l,c]=e.useState(!1);let o=r();let n=w({initialValues:{email:""},onSubmit:async function(e){c(!0),b.post("https://ecommerce.routemisr.com/api/v1/auth/forgotPasswords",e).then((e=>{"success"==e.data.statusMsg&&(a(e.data.message),o("/verify-code"),c(!1))})).catch((e=>{c(!1)}))}});return l?s.jsxs("div",{className:"sk-circle",children:[s.jsx("div",{className:"sk-circle1 sk-child"}),s.jsx("div",{className:"sk-circle2 sk-child"}),s.jsx("div",{className:"sk-circle3 sk-child"}),s.jsx("div",{className:"sk-circle4 sk-child"}),s.jsx("div",{className:"sk-circle5 sk-child"}),s.jsx("div",{className:"sk-circle6 sk-child"}),s.jsx("div",{className:"sk-circle7 sk-child"}),s.jsx("div",{className:"sk-circle8 sk-child"}),s.jsx("div",{className:"sk-circle9 sk-child"}),s.jsx("div",{className:"sk-circle10 sk-child"}),s.jsx("div",{className:"sk-circle11 sk-child"}),s.jsx("div",{className:"sk-circle12 sk-child"})]}):s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-emerald-600 p-5 font-bold text-3xl text-center mb-10 capitalize",children:"reset your account password "}),s.jsxs("form",{onSubmit:n.handleSubmit,className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"email",name:"email",value:n.values.email,onChange:n.handleChange,onBlur:n.handleBlur,id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Email"})]}),s.jsx("div",{className:"flex gap-4 items-center",children:s.jsx("button",{type:"submit",className:"hover:bg-gray-200 hover:text-emerald-500 text-white  bg-emerald-600 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-full  px-5 py-2.5 text-center",children:l?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Send Reset Code"})})]})]})}function se(){const[t,a]=e.useState(""),[l,c]=e.useState(!1);let o=r();let n=w({initialValues:{resetCode:""},onSubmit:async function(e){c(!0),b.post("https://ecommerce.routemisr.com/api/v1/auth/verifyResetCode",e).then((e=>{"Success"==e.data.status&&o("/reset-passowrd")})).catch((e=>{c(!1)}))}});return s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-emerald-600 p-5 font-bold text-3xl text-center mt-20 capitalize",children:"Account Recovery "}),s.jsxs("form",{onSubmit:n.handleSubmit,className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"resetCode",name:"resetCode",value:n.values.resetCode,onChange:n.handleChange,onBlur:n.handleBlur,id:"resetCode",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"resetCode",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your resetCode"})]}),s.jsx("div",{className:"flex gap-4 items-center",children:s.jsx("button",{type:"submit",className:"hover:bg-gray-200 hover:text-emerald-500 text-white  bg-emerald-600 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-full  px-5 py-2.5 text-center",children:l?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Confirm Reset Code"})})]})]})}function te(){const[t,a]=e.useState(""),[l,c]=e.useState(!1);let o=r();let n=w({initialValues:{email:"",newPassword:""},onSubmit:async function(e){c(!0),c(!0),b.put("https://ecommerce.routemisr.com/api/v1/auth/resetPassword\n    ",e).then((e=>{o("/login")})).catch((e=>{c(!1)}))}});return s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-emerald-600 p-5 font-bold text-3xl text-center mt-20 capitalize",children:"Reset your password "}),s.jsxs("form",{onSubmit:n.handleSubmit,className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"email",name:"email",value:n.values.email,onChange:n.handleChange,onBlur:n.handleBlur,id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your Email"})]}),s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"password",name:"newPassword",value:n.values.newPassword,onChange:n.handleChange,onBlur:n.handleBlur,id:"newPassword",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"newPassword",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your New Password"})]}),s.jsx("div",{className:"flex gap-4 items-center",children:s.jsx("button",{type:"submit",className:"hover:bg-gray-200 hover:text-emerald-500 text-white w bg-emerald-600 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-full  px-5 py-2.5 text-center",children:l?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Reset"})})]})]})}function re(){const[t,a]=e.useState();e.useEffect((()=>{!async function(){if(l)try{const e=await b.get(`https://ecommerce.routemisr.com/api/v1/users/${l}`);a(e.data.data)}catch(e){}}()}),[]);const l=(()=>{const e=localStorage.getItem("userToken");if(!e)return null;try{return S(e).id}catch(s){return null}})(),c=r();return s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-emerald-600 p-5 font-bold text-3xl text-center mt-5 capitalize",children:"My Profile "}),s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{disabled:!0,type:"text",name:"userName",id:"userName",className:"block py-2.5 my-12  text-black px-2 w-full text-md border  border-emerald-500 placeholder:text-black",placeholder:null==t?void 0:t.name}),s.jsx("label",{htmlFor:"userName",className:" left-0px absolute top-[-33px] text-xl text-black   ",children:"Username:"})]}),s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{disabled:!0,type:"email",name:"email",id:"email",className:"block py-2.5 px-2 w-full text-md text-gray-900   border border-emerald-500 placeholder:text-black ",placeholder:null==t?void 0:t.email}),s.jsx("label",{htmlFor:"email",className:" left-[0px] absolute text-xl text-black top-[-33px]",children:"User Email:"})]}),s.jsxs("div",{className:"relative z-0 w-full mt-10 mb-5 group",children:[s.jsx("input",{disabled:!0,type:"tel",name:"phone",id:"phone",className:"block py-2.5 px-2  w-full text-md text-gray-900   border border-emerald-500 placeholder:text-black ",placeholder:null==t?void 0:t.phone}),s.jsx("label",{htmlFor:"phone",className:" left-[0px] absolute text-xl text-black top-[-33px]",children:"User phone:"})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("button",{onClick:function(){c("update")},className:"hover:bg-gray-200 hover:text-emerald-500 text-white  bg-emerald-500 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-1/2  px-5 py-2.5 text-center",children:"Update Data"}),s.jsx("button",{onClick:function(){c("change-password")},className:"hover:bg-gray-200 hover:text-emerald-500 text-white  bg-emerald-500 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-1/2  px-5 py-2.5 text-center",children:"Change Password"})]})]})]})}function ae(){const[t,a]=e.useState(""),[l,o]=e.useState(!1);let n=r(),i={token:localStorage.getItem("userToken")},{userLogin:d,setuserLogin:u}=e.useContext(E);let m=w({initialValues:{name:"",email:"",phone:""},onSubmit:async function(e){o(!0),o(!0),b.put("https://ecommerce.routemisr.com/api/v1/users/updateMe/\n    ",e,{headers:i}).then((e=>{c.success(" Update Data successfully! "),localStorage.removeItem("userToken"),localStorage.removeItem("userEmail"),u(null),n("/login"),n("/")})).catch((e=>{c.error(" Cannot Update Data! "),o(!1)}))}});return s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-emerald-600 p-5 font-bold text-3xl text-center mt-20 capitalize",children:"Change your password "}),s.jsxs("form",{onSubmit:m.handleSubmit,className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"text",name:"name",value:m.values.name,onChange:m.handleChange,onBlur:m.handleBlur,id:"name",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"name",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your name"})]}),s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"email",name:"email",value:m.values.email,onChange:m.handleChange,onBlur:m.handleBlur,id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your New email"})]}),s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"tel",name:"phone",value:m.values.phone,onChange:m.handleChange,onBlur:m.handleBlur,id:"phone",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"phone",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your New Password"})]}),s.jsx("div",{className:"flex gap-4 items-center ",children:s.jsx("button",{type:"submit",className:"hover:bg-gray-200 hover:text-emerald-500 text-white w bg-emerald-500 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-full  px-5 py-2.5 text-center",children:l?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Update"})})]})]})}function le(){const[a,l]=e.useState(""),[o,n]=e.useState(!1);let i=r(),d={token:localStorage.getItem("userToken")},{userLogin:u,setuserLogin:m}=e.useContext(E);let x=w({initialValues:{currentPassword:"",password:"",rePassword:""},onSubmit:async function(e){n(!0),b.put("https://ecommerce.routemisr.com/api/v1/users/changeMyPassword\n    ",e,{headers:d}).then((e=>{c.success("Password updated successfully! "),localStorage.removeItem("userToken"),localStorage.removeItem("userEmail"),m(null),i("/login"),i("/login")})).catch((e=>{c.error("Cannot Update Password! ")})).finally(n(!1))}});return s.jsxs(s.Fragment,{children:[o&&s.jsxs("div",{className:"sk-circle",children:[s.jsx("div",{className:"sk-circle1 sk-child"}),s.jsx("div",{className:"sk-circle2 sk-child"}),s.jsx("div",{className:"sk-circle3 sk-child"}),s.jsx("div",{className:"sk-circle4 sk-child"}),s.jsx("div",{className:"sk-circle5 sk-child"}),s.jsx("div",{className:"sk-circle6 sk-child"}),s.jsx("div",{className:"sk-circle7 sk-child"}),s.jsx("div",{className:"sk-circle8 sk-child"}),s.jsx("div",{className:"sk-circle9 sk-child"}),s.jsx("div",{className:"sk-circle10 sk-child"}),s.jsx("div",{className:"sk-circle11 sk-child"}),s.jsx("div",{className:"sk-circle12 sk-child"})]}),s.jsx("h1",{className:"text-emerald-600 p-5 font-bold text-3xl text-center mb-10 capitalize",children:"Change your password "}),s.jsxs("form",{onSubmit:x.handleSubmit,className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"password",name:"currentPassword",value:x.values.currentPassword,onChange:x.handleChange,onBlur:x.handleBlur,id:"currentPassword",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"currentPassword",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your currentPassword"})]}),s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"password",name:"password",value:x.values.password,onChange:x.handleChange,onBlur:x.handleBlur,id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your New password"})]}),s.jsxs("div",{className:"relative z-0 w-full my-5 group",children:[s.jsx("input",{type:"password",name:"rePassword",value:x.values.rePassword,onChange:x.handleChange,onBlur:x.handleBlur,id:"rePassword",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none  focus:outline-none focus:ring-0 focus:border-emerald-600 peer",placeholder:" ",required:!0}),s.jsx("label",{htmlFor:"rePassword",className:"peer-focus:font-medium left-0 absolute text-sm text-gray-600  duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-emerald-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter Your New Password"})]}),s.jsx(t,{to:"/forgetpassword",className:"text-emerald-500",children:"Forget Password?"}),s.jsx("div",{className:"flex gap-4 items-center py-2 my-2",children:s.jsx("button",{type:"submit",className:"hover:bg-gray-200 hover:text-emerald-500 text-white w bg-emerald-500 hover:bg-emborder-600 focus:ring-4 focus:outline-none focus:ring-emerald-600 font-medium rounded-lg text-sm w-full  px-5 py-2.5 text-center",children:o?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Update"})})]})]})}function ce(){let{userLogin:l,setuserLogin:o}=e.useContext(E),{addProductToCart:n,setnumber:i,number:d}=e.useContext(z),{addProductTowishList:u,deletewishListItem:m,wishList:x,setWishList:h}=e.useContext(A),[p,f]=e.useState(!1),[g,j]=e.useState(null);const[v,y]=e.useState([]),{categoryId:N,categories:w}=a();e.useEffect((()=>{const e=JSON.parse(localStorage.getItem("wishList"))||[];h(e)}),[]),e.useEffect((()=>{w&&async function(){try{let e=(await b.get("https://ecommerce.routemisr.com/api/v1/products")).data.data.filter((e=>e.category.name===w));y(e)}catch(e){c.error("Failed to fetch products")}}()}),[N,w]);let k=r();return s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-cols-5 mb-10 ",children:(null==v?void 0:v.length)>0?null==v?void 0:v.map((e=>s.jsxs("div",{className:"my-4 product mx-4   hover:shadow-lg hover:shadow-emerald-500 relative",children:[s.jsxs(t,{to:`/productdetails/${null==e?void 0:e.id}/${null==e?void 0:e.category.name}`,children:[s.jsx("img",{src:null==e?void 0:e.imageCover,className:"w-full h-[200px] object-cover",alt:null==e?void 0:e.title}),s.jsx("h3",{className:"text-emerald-500",children:null==e?void 0:e.category.name}),s.jsx("h3",{className:"font-bold mb-1",children:null==e?void 0:e.title.split(" ").slice(0,2).join(" ")}),s.jsxs("div",{className:"flex justify-between p-3",children:[s.jsxs("span",{children:[null==e?void 0:e.price," EGP"]}),s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-star text-yellow-400"})," ",null==e?void 0:e.ratingsAverage]})]})]}),s.jsx("i",{className:"fa-solid fa-heart absolute top-0 right-0 border border-gray-200 rounded-full p-2 bg-white text-3xl "+((null==x?void 0:x.includes(null==e?void 0:e.id))&&l?"text-red-500":"text-gray-400 "),onClick:()=>{l?(null==x?void 0:x.includes(null==e?void 0:e.id))?async function(e){h((s=>{const t=s.filter((s=>s!==e));return localStorage.setItem("wishList",JSON.stringify(t)),t})),c.success("Product removed from wishlist");try{"success"!==(await m(e)).data.status&&c.error("Error removing product from wishlist")}catch(s){c.error("Error processing request")}}(null==e?void 0:e.id):async function(e){j(e);try{let s=await u(e);"success"===s.data.status?(c.success(s.data.message),h((s=>{const t=[...s,e];return localStorage.setItem("wishList",JSON.stringify(t)),t}))):c.error(s.data.message)}catch(s){c.error("Error adding product to wishlist")}}(null==e?void 0:e.id):k("/login")}}),s.jsx("button",{onClick:()=>async function(e){f(!0),j(e);try{if(l){let s=await n(e);"success"===s.data.status?(c.success(s.data.message),i(d+1)):c.error(s.data.message)}else k("/login")}catch(s){c.error("Error adding product to cart")}f(!1)}(e.id),className:"btn bg-emerald-500 text-white w-full p-2 rounded-lg",children:p&&g===e.id?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Add to cart"})]},null==e?void 0:e.id))):s.jsxs("div",{className:"sk-circle",children:[s.jsx("div",{className:"sk-circle1 sk-child"}),s.jsx("div",{className:"sk-circle2 sk-child"}),s.jsx("div",{className:"sk-circle3 sk-child"}),s.jsx("div",{className:"sk-circle4 sk-child"}),s.jsx("div",{className:"sk-circle5 sk-child"}),s.jsx("div",{className:"sk-circle6 sk-child"}),s.jsx("div",{className:"sk-circle7 sk-child"}),s.jsx("div",{className:"sk-circle8 sk-child"}),s.jsx("div",{className:"sk-circle9 sk-child"}),s.jsx("div",{className:"sk-circle10 sk-child"}),s.jsx("div",{className:"sk-circle11 sk-child"}),s.jsx("div",{className:"sk-circle12 sk-child"})]})})})}function oe(){let{id:r}=a();const[l,c]=e.useState([]),[o,n]=e.useState(!0),[i,d]=e.useState(null);return e.useEffect((()=>{r&&async function(){n(!0);try{const e=await b.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${r}`);c(e.data),n(!1)}catch(e){d("⚠️ An error occurred while loading orders.")}finally{n(!1)}}()}),[r]),s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"text-center text-2xl font-bold text-emerald-600 my-10",children:"All Orders Details"}),o?s.jsxs("div",{className:"sk-circle",children:[s.jsx("div",{className:"sk-circle1 sk-child"}),s.jsx("div",{className:"sk-circle2 sk-child"}),s.jsx("div",{className:"sk-circle3 sk-child"}),s.jsx("div",{className:"sk-circle4 sk-child"}),s.jsx("div",{className:"sk-circle5 sk-child"}),s.jsx("div",{className:"sk-circle6 sk-child"}),s.jsx("div",{className:"sk-circle7 sk-child"}),s.jsx("div",{className:"sk-circle8 sk-child"}),s.jsx("div",{className:"sk-circle9 sk-child"}),s.jsx("div",{className:"sk-circle10 sk-child"}),s.jsx("div",{className:"sk-circle11 sk-child"}),s.jsx("div",{className:"sk-circle12 sk-child"})]}):i?s.jsx("p",{className:"text-red-500 text-center mt-4",children:i}):0===l.length?s.jsx("p",{className:"text-center mt-4",children:"🚀 No orders available"}):s.jsx(s.Fragment,{children:l.length>0?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"bg-gray-50 shadow-xl rounded-3xl p-8 mb-5 ",children:[s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3   ",children:[s.jsx("div",{className:"max-w-3xl mx-auto p-2",children:l.map(((e,t)=>s.jsxs("div",{className:"  my-1 ",children:[s.jsxs("h2",{children:[s.jsx("span",{className:"text-lg font-semibold ",children:"Order ID:"})," ",s.jsxs("span",{className:"text-emerald-500",children:["#",e.id]})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-lg font-semibold",children:"Total Payment Price:"}),s.jsxs("span",{className:"text-emerald-500",children:[" ",null==e?void 0:e.totalOrderPrice," EGP"]})," "]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-lg font-semibold",children:"Payment Method: "}),s.jsx("span",{className:"bg-emerald-500 px-1  w-fit text-white rounded-lg",children:null==e?void 0:e.paymentMethodType})," "]}),s.jsxs("p",{children:[s.jsx("span",{className:" text-gray-400 rounded-lg text-lg ",children:new Date(e.createdAt).toDateString()})," "]})]},t)))}),s.jsx("div",{className:"max-w-3xl mx-auto p-2",children:l.map(((e,t)=>s.jsxs("div",{className:"  my-1 ",children:[s.jsx("h2",{children:s.jsx("span",{className:"text-lg font-semibold ",children:"Address Info"})}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400  text-lg",children:"Address Details:"}),s.jsxs("span",{children:[" ",null==e?void 0:e.shippingAddress.details]})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400  text-lg",children:"City:"}),s.jsxs("span",{children:[" ",null==e?void 0:e.shippingAddress.city]})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400  text-lg",children:"Phone:"}),s.jsxs("span",{children:[" ",null==e?void 0:e.shippingAddress.phone]})]})]},t)))}),s.jsx("div",{className:"max-w-3xl mx-auto p-2",children:l.map(((e,t)=>s.jsxs("div",{className:"  my-1 ",children:[s.jsx("h2",{children:s.jsx("span",{className:"text-lg font-semibold ",children:"Customer Info"})}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400  text-lg",children:"Name:"}),s.jsxs("span",{children:[" ",null==e?void 0:e.user.name]})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400  text-lg",children:"Email:"}),s.jsxs("span",{children:[" ",null==e?void 0:e.user.email]})]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400  text-lg",children:"Phone:"}),s.jsxs("span",{children:[" ",null==e?void 0:e.user.phone]})]})]},t)))})]}),s.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg  bg-white my-6 text-center ",children:s.jsxs("table",{className:"w-full table-auto border-collapse  ",children:[s.jsx("thead",{className:"bg-gray-100 text-gray-700 ",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 border",children:"Product"}),s.jsx("th",{className:"px-4 py-2 border",children:"Price"}),s.jsx("th",{className:"px-4 py-2 border",children:"Quantity"})]})}),s.jsx("tbody",{children:l.map((e=>e.cartItems.map(((r,a)=>{var l,c,o,n;return s.jsxs("tr",{className:"border-b hover:bg-gray-50 ",children:[s.jsx("td",{className:" py-2  flex justify-center items-center ",children:s.jsxs(t,{className:"flex justify-center items-center",to:`/productdetails/${r.product._id}/${r.product.category.name}`,children:[s.jsx("img",{src:null==(l=null==r?void 0:r.product)?void 0:l.imageCover,alt:null==(c=null==r?void 0:r.product)?void 0:c.title,className:"w-16 h-16 object-cover rounded-lg"}),s.jsx("span",{className:"ml-2",children:null==(n=null==(o=null==r?void 0:r.product)?void 0:o.category)?void 0:n.name})]})}),s.jsxs("td",{className:"px-4 py-2 text-gray-500",children:[r.price," EGP"]}),s.jsx("td",{className:"px-4 py-2",children:r.count})]},`${e.id}-${a}`)}))))})]})})]})}):s.jsx("p",{className:"text-center text-gray-600",children:"No orders found."})})]})}function ne(){const[l,o]=e.useState([]),[n,i]=e.useState(null);let{userLogin:d,setuserLogin:u}=e.useContext(E),{addProductToCart:m,setnumber:x,number:h}=e.useContext(z),{addProductTowishList:p,deletewishListItem:f,wishList:g,setWishList:j}=e.useContext(A),[v,y]=e.useState(!1),[N,w]=e.useState(0);e.useEffect((()=>{const e=JSON.parse(localStorage.getItem("wishList"));e&&j(e)}),[]);let{id:k,name:S}=a();e.useEffect((()=>{!async function(){y(!0);try{const e=await b.get(`https://ecommerce.routemisr.com/api/v1/products?brand=${k}`);o(e.data.data)}catch(e){i(" Failed to load products. Please try again.")}finally{y(!1)}}()}),[k,S]);let C=r();return s.jsxs(s.Fragment,{children:[v&&s.jsxs("div",{className:"sk-circle",children:[s.jsx("div",{className:"sk-circle1 sk-child"}),s.jsx("div",{className:"sk-circle2 sk-child"}),s.jsx("div",{className:"sk-circle3 sk-child"}),s.jsx("div",{className:"sk-circle4 sk-child"}),s.jsx("div",{className:"sk-circle5 sk-child"}),s.jsx("div",{className:"sk-circle6 sk-child"}),s.jsx("div",{className:"sk-circle7 sk-child"}),s.jsx("div",{className:"sk-circle8 sk-child"}),s.jsx("div",{className:"sk-circle9 sk-child"}),s.jsx("div",{className:"sk-circle10 sk-child"}),s.jsx("div",{className:"sk-circle11 sk-child"}),s.jsx("div",{className:"sk-circle12 sk-child"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-10 ",children:null==l?void 0:l.map((e=>s.jsx("div",{children:s.jsxs("div",{className:"my-2 product p-2 hover:shadow-lg hover:shadow-emerald-500 relative",children:[s.jsxs(t,{to:`/productdetails/${e.id}/${e.category.name}`,children:[s.jsx("img",{src:e.imageCover,className:"w-full h-[200px] object-cover",alt:e.title}),s.jsx("h3",{className:"text-emerald-500",children:e.category.name}),s.jsx("h3",{className:"font-bold mb-1",children:e.title.split(" ").slice(0,2).join(" ")}),s.jsxs("div",{className:"flex justify-between p-3",children:[s.jsxs("span",{children:[e.price," EGP"]}),s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-star text-yellow-400"})," ",e.ratingsAverage," "]})]})]}),s.jsx("i",{className:"fa-solid fa-heart  absolute top-[0px] right-[0px] border border-gray-200 rounded-full p-2 bg-white text-3xl "+(g.includes(e.id)&&d?"text-red-500":"text-gray-400"),onClick:()=>{d?(null==g?void 0:g.includes(null==e?void 0:e.id))?async function(e){const s=g.filter((s=>s!==e));j(s),localStorage.setItem("wishList",JSON.stringify(s)),c.success("Product removed from wishlist"),"success"!=(await f(e)).data.status&&c.error("Error removing product from wishlist")}(null==e?void 0:e.id):addToWishList(null==e?void 0:e.id):C("/login")}}),s.jsx("button",{onClick:()=>async function(e){if(y(!0),w(e),d){let s=await m(e);"success"===s.data.status?(c.success(s.data.message),x(h+1)):c.error(s.data.message)}else C("/login")}(e.id),className:"btn bg-emerald-500 text-white w-full p-2 rounded-lg",children:v&&N===e.id?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"Add to cart"})]})},e.id)))})]})}let ie=new C;function de(){return s.jsxs(x,{client:ie,children:[s.jsx(L,{children:s.jsx(B,{children:s.jsxs(T,{children:[s.jsx(h,{children:s.jsx(p,{children:s.jsxs(f,{path:"/",element:s.jsx(U,{}),children:[s.jsx(f,{index:!0,element:s.jsx(R,{})}),s.jsx(f,{path:"categories",element:s.jsx(P,{})}),s.jsx(f,{path:"cart",element:s.jsx(H,{children:s.jsx($,{})})}),s.jsx(f,{path:"brands",element:s.jsx(Y,{})}),s.jsx(f,{path:"brands/:name/:id",element:s.jsx(ne,{})}),s.jsx(f,{path:"products",element:s.jsx(O,{})}),s.jsx(f,{path:"wishlist",element:s.jsx(H,{children:s.jsx(Z,{})})}),s.jsx(f,{path:"checkout",element:s.jsx(X,{})}),s.jsx(f,{path:"allorders",element:s.jsx(Q,{})}),s.jsx(f,{path:"allorders/:id",element:s.jsx(oe,{})}),s.jsx(f,{path:"profile",element:s.jsx(re,{})}),s.jsx(f,{path:"profile/change-password",element:s.jsx(le,{})}),s.jsx(f,{path:"profile/update",element:s.jsx(ae,{})}),s.jsx(f,{path:"productdetails/:id/:category",element:s.jsx(K,{})}),s.jsx(f,{path:"categories/:categories/:categoryId",element:s.jsx(ce,{})}),s.jsx(f,{path:"forgetpassword",element:s.jsx(ee,{})}),s.jsx(f,{path:"reset-password",element:s.jsx(te,{})}),s.jsx(f,{path:"verify-code",element:s.jsx(se,{})}),s.jsx(f,{path:"register",element:s.jsx(F,{})}),s.jsx(f,{path:"login",element:s.jsx(I,{})}),s.jsx(f,{path:"*",element:s.jsx(V,{})})]})})}),s.jsx(g,{})]})})}),s.jsx(j,{})]})}v.createRoot(document.getElementById("root")).render(s.jsx(e.StrictMode,{children:s.jsx(de,{})}));
